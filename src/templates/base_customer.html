{% load static from staticfiles %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">

    <title>Greetings</title>
    
    <!-- Bootstrap CSS -->
    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
          integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7"
          crossorigin="anonymous">

    <!-- Bootstrap theme -->
    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css"
          integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r"
          crossorigin="anonymous">

    <!-- Formstone Select -->
    <!-- <link rel="stylesheet" href="{% static 'css/jquery.fs.selecter.css' %}"> -->
    <!--<link rel="stylesheet" href="{% static 'css/dropdown.css' %}">-->
    
    <!-- Slider -->
    {# <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/9.7.2/css/bootstrap-slider.min.css" rel="stylesheet">#}

    <!-- Font Awesomee -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

    <!-- custom styles -->
    <link rel="stylesheet" href="{% static 'css/styles.css' %}" type="text/css" />

    {% block extra_css %}{% endblock extra_css %}
</head>

<body onload='initMap()'>
    <!-- Start Container -->
    <div class="container-fluid">
        <!-- Start Body -->
        {% if user.is_authenticated %}
            <div class="row main">
                <div class="col-md-12 center">
                    <!-- Start Top Menu -->
                    <div class="row">
                        <div class="col-md-12 center">
                            <nav class="navbar navbar-static-top main-menu-customer navbar-main-menu">
                                <div class="container-fluid">
                                    <!-- Show DataSets in the InfoPanel -->
                                    <div class="navbar-brand white"><b class="purple">Dataset: </b><span id="show_info_dataset"></span></div>
                                    <!-- End Show DataSets in the InfoPanel -->
                                    
                                    <!-- Show DataSets in the InfoPanel -->
                                    {% if show_image_ip %}
                                        <div class="navbar-brand white"><b class="purple">Image: </b><span>{{ show_image_ip }}</span></div>
                                    {% else %}
                                        <div class="navbar-brand white"><b class="purple">Image: </b><span id="show_info_image"></span></div>
                                    {% endif %}
                                    <!-- End Show DataSets in the InfoPanel -->

                                    <div class="collapse navbar-collapse">
                                        <div class="dropdown user-profile" id="dropUser">
                                            <button class="dropbtn-user dropdown-toggle white" id="titleUser" onclick="showSubMenuUser()">
                                                <b class="purple">User:</b> {{ request.user }}
                                                <i class="fa fa-caret-right icon-visible-user"></i>
                                                <i class="fa fa-caret-down icon-visible-user" style="display: none"></i>
                                            </button>
                                            <div class="dropdown-content-user dropdown-user left li-menu" id="dropdownUser">
                                                <a href="{% url 'index' %}" >
                                                    <img class="right-indent-10" src="{% static 'img/profile-18.png' %}">
                                                    Profile
                                                </a>
                                                <a href="{% url 'index' %}">
                                                    <img class="right-indent-10" src="{% static 'img/settings.png' %}">
                                                    Settings
                                                </a>
                                                <a href="{% url 'auth_logout' %}">
                                                    <img class="right-indent-10" src="{% static 'img/logout.png' %}">
                                                    Log Out
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </nav>
                        </div>
                    </div>
                    <!-- End Top Menu -->

                    <div class="row">
                        {% if error_message %}
                    		<h3>{{ error_message }}</a></h3>
                    	{% else %}
                            <!-- Left Sidebar -->
                            <form class="form-modal" id="customer_section_left" action="{% url 'customer_section' %}" method="get" enctype="multipart/form-data" role="form" class="form-horizontal">
                                {% csrf_token %}
                                
                                <div class="col-md-2 li-menu dropdown-left-0 left" id="col1">
                                    <!-- DataSets Menu -->
                                    <label class="control-label margin-top-25">Datasets:</label>
                                    <select class="form-control" name="select" id="mydataset" onchange="showDataSets({{ data_set_id }})">
                                        {% for ds in data_sets %}
                                            <option id="{{ ds.id }}" name="{{ ds }}" value="{{ ds.id }}" {% if data_set_id == ds.id %}selected="selected"{% endif %}>{{ ds }}</option>
                                        {% endfor %}
                                    </select>
                                    <!-- END DataSets Menu -->
                                    
                                    <!-- TABS menu -->
                                    <div role="tabpanel" class="margin-top-25">
                                        <!-- Navigational tabs -->
                                        <ul class="nav nav-tabs margin-left-6" role="tablist">
                                            <li role="presentation" class="active"><a href="#view" class="a-tab" aria-controls="view1" role="tab" data-toggle="tab">View</a></li>
                                            <li role="presentation"><a href="#report" class="a-tab" aria-controls="report" role="tab" data-toggle="tab">Report</a></li>
                                            <li role="presentation"><a href="#aoi" class="a-tab" aria-controls="aoi" role="tab" data-toggle="tab">AOI</a></li>
                                        </ul>

                                        <!-- Tabs Content -->
                                        <div class="tab-content">
                                            <form name="select_all_none" method="post">
                                                <!-- VIEW -->
                                                <div role="tabpanel" class="tab-pane fade in active" id="view">
                                                    <div class="row">
                                                        <div class="col-md-5 left">
                                                            <div>
                                                                <button type="button" class="btn btn-link" name="select-all-view" onclick="selectAllCheck(this.form.viewlist, 1)">
                                                                    Select All
                                                                </button>
                                                            </div>
                                                        </div>
                                                        
                                                        <div class="col-md-5 right">
                                                            <div class="right">
                                                                <button type="button" class="btn btn-link" name="select-none-view" onclick="selectAllCheck(this.form.viewlist, 0)">
                                                                    Select None
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                    <div class="row">
                                                        <div class="col-md-12 left margin-top-15 tab-view-min-height margin-left-4">
                                                            {% for dl in dirs_list%}
                                                                <label class="normal"><input class="margin-bottom-6" name="viewlist" type="checkbox" value="view_{{ dl.id }}" {% if dl.attribute_name in attribute_list_infopanel %}checked="checked"{% endif %}> {{ dl.attribute_name }}</label><br>
                                                            {% endfor %}
                                                        </div>
                                                    </div>
                                                    
                                                    <div class="row">
                                                        <div class="col-md-6 left margin-top-15">
                                                            <button type="submit" name="add-list-view" class="btn btn-success btn-block">
                                                                Next
                                                            </button>
                                                        </div>
                                                        
                                                        <div class="col-md-6 left margin-top-15">
                                                            <button type="submit" name="add-list-view" class="btn btn-success btn-block">
                                                                Previous
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <!-- REPORT -->
                                                <div role="tabpanel" class="tab-pane fade" id="report">
                                                    <div class="row">
                                                        <div class="col-md-5 left">
                                                            <div>
                                                                <button type="button" class="btn btn-link" name="select-all-report" onclick="selectAllCheck(this.form.viewreport, 1)">
                                                                    Select All
                                                                </button>
                                                            </div>
                                                        </div>
                                                        
                                                        <div class="col-md-7 right">
                                                            <div class="right">
                                                                <button type="button" class="btn btn-link" name="select-none-report" onclick="selectAllCheck(this.form.viewreport, 0)">
                                                                    Select None
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                    <div class="row">
                                                        <div class="col-md-12 left margin-top-15 tab-report-min-height margin-left-4">
                                                            {% for dl in dirs_list%}
                                                                <label class="normal"><input class="margin-bottom-6" name="viewreport" type="checkbox" value="report_{{ dl.id }}" {% if dl.attribute_name in dirs_infopanel %}checked="checked"{% endif %}> {{ dl.attribute_name }}</label><br>
                                                            {% endfor %}
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <!-- AOI -->
                                                <div role="tabpanel" class="tab-pane fade tab-aoi-min-height margin-bottom-6" id="aoi">
                                                    <div class="row margin-bottom-6">
                                                    </div>
                                                    
                                                    {% for polygon in polygons%}
                                                        <div class="row">
                                                            <div class="col-md-9 margin-top-8 margin-bottom-4 margin-left-4">
                                                                <input type="radio" name="polygon" value="{{ polygon.kml_name }}" onchange="setPolygon(this);"><a href="{{ absolute_kml_url }}/{{ polygon.kml_name }}"> {{ polygon.name }}</a>
                                                            </div>
                                                                
                                                            <div class="col-md-1 margin-bottom-4">
                                                                <button class="btn del-btn edit-area margin-top-07 left" type="button" name="save_area" value="{{ polygon.id }}" data-toggle="tooltip" data-placement="top" title="Edit">
                                                                    <img src="{% static 'img/edit-18.png' %}" class="margin-left-010"/>
                                                                </button>
                                                            </div>
                                                            
                                                            <div class="col-md-1 margin-bottom-4">
                                                                <button class="btn del-btn check-cur-delete margin-top-07 right" type="button" name="del_current_btn" value="{{ polygon.kml_name }}" data-toggle="tooltip" data-placement="top" title="Delete">
                                                                    <img src="{% static 'img/delete-18.png' %}" class="margin-left-010"/>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    {% endfor %}
                                                </div>
                                            </div>
                                            <!-- END Tabs content -->
                                        
                                            <!-- Statistics Menu -->
                                            <label class="control-label margin-top-25">Statistics:</label>
                                            
                                            <div class="row">
                                                <div class="col-md-5 left">
                                                    <div>
                                                        <button type="button" class="btn btn-link" name="select-all-statistics" onclick="selectAllCheck(this.form.statistics, 1)">
                                                            Select All
                                                        </button>
                                                    </div>
                                                </div>
                                                
                                                <div class="col-md-7 right">
                                                    <div class="right">
                                                        <button type="button" class="btn btn-link" name="select-none-statistics" onclick="selectAllCheck(this.form.statistics, 0)">
                                                            Select None
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <label class="normal"><input class="margin-top-20" name="statistics" type="checkbox" value="mean_ConditionalMax" {% if 'mean_ConditionalMax' in statisctics_infopanel %}checked="checked"{% endif %}> mean_ConditionalMax</label><br>
                                            
                                            <label class="normal"><input class="margin-top-10" name="statistics" type="checkbox" value="mean_ConditionalMean" {% if 'mean_ConditionalMean' in statisctics_infopanel %}checked="checked"{% endif %}> mean_ConditionalMean</label><br>
                                            
                                            <label class="normal"><input class="margin-top-10" name="statistics" type="checkbox" value="mean_ConditionalMedian" {% if 'mean_ConditionalMedian' in statisctics_infopanel %}checked="checked"{% endif %}> mean_ConditionalMedian</label><br>
                                            
                                            <label class="normal"><input class="margin-top-10" name="statistics" type="checkbox" value="mean_ConditionalMin" {% if 'mean_ConditionalMin' in statisctics_infopanel %}checked="checked"{% endif %}> mean_ConditionalMin</label><br>
                                            
                                            <label class="normal"><input class="margin-top-10" name="statistics" type="checkbox" value="mean_LowerQuartile" {% if 'mean_LowerQuartile' in statisctics_infopanel %}checked="checked"{% endif %}> mean_LowerQuartile</label><br>
                                            
                                            <label class="normal"><input class="margin-top-10" name="statistics" type="checkbox" value="mean_Quantile" {% if 'mean_Quantile' in statisctics_infopanel %}checked="checked"{% endif %}> mean_Quantile</label><br>
                                            <!-- END Statistics Menu -->
                                        </form>
                                    </div>
                                    <!-- END TABS menu -->
                                    
                                    
                                    {% if dirs_list %}
                                        <!-- Info Panel Menu -->
                                        <label class="control-label margin-top-25">Info Panel:</label>
                                        {# <h4 class="margin-top-40 background-fill-grey"><b>Info Panel</b></h4>#}
                                        <select class="form-control margin-top-10" name="root_filenames[]" multiple size="8">
                                            {% for dl in dirs_list%}
                                                <option value="{{ dl.id }}" {% if dl.attribute_name in dirs_infopanel %}selected="selected"{% endif %}>{{ dl.attribute_name }}</option>
                                            {% endfor %}
                                        </select>
                                        <!-- END Info Panel Menu -->
                                        
                                        <!-- Statistics Menu -->
                                        <label class="control-label margin-top-25">Statistics:</label>
                                        <select class="form-control margin-top-10 disable" name="statistics[]" multiple size="6">
                                            <option value="mean_ConditionalMax" {% if 'mean_ConditionalMax' in statisctics_infopanel %}selected="selected"{% endif %}>mean_ConditionalMax</option>
                                            <option value="mean_ConditionalMean" {% if 'mean_ConditionalMean' in statisctics_infopanel %}selected="selected"{% endif %}>mean_ConditionalMean</option>
                                            <option value="mean_ConditionalMedian" {% if 'mean_ConditionalMedian' in statisctics_infopanel %}selected="selected"{% endif %}>mean_ConditionalMedian</option>
                                            <option value="mean_ConditionalMin" {% if 'mean_ConditionalMin' in statisctics_infopanel %}selected="selected"{% endif %}>mean_ConditionalMin</option>
                                            <option value="mean_LowerQuartile" {% if 'mean_LowerQuartile' in statisctics_infopanel %}selected="selected"{% endif %}>mean_LowerQuartile</option>
                                            <option value="mean_Quantile" {% if 'mean_Quantile' in statisctics_infopanel %}selected="selected"{% endif %}>mean_Quantile</option>
                                        </select>
                                        <!-- END Statistics Menu -->
                                        
                                        <!-- Add/Remove buttons -->
                                        <div class="margin-top-20 button-link">
                                            <a name="remove-selected-items" onclick="removeSelectedItems()" href="">
                                                Remove the all selected items
                                            </a>
                                        </div>
                                        
                                        <div class="margin-top-15">
                                            <button type="submit" name="add-list-view" class="btn btn-success btn-block">
                                                Add to list view
                                            </button>
                                        </div>
                                        <!-- END Add/Remove buttons -->
                                    {% endif %}
                                    
                                    {% if polygons %}
                                        <label class="control-label margin-top-25">Area of Interest:</label><br />
                                        {% for polygon in polygons%}
                                            <div class="row">
                                                <div class="col-md-8">
                                                    <input type="radio" name="polygon" value="{{ polygon.kml_name }}" onchange="setPolygon(this);"><a href="{{ absolute_kml_url }}/{{ polygon.kml_name }}"> {{ polygon.name }}</a>
                                                </div>
                                                    
                                                <div class="col-md-1">
                                                    <button class="btn del-btn edit-area margin-top-07 left" type="button" name="save_area" value="{{ polygon.id }}" data-toggle="tooltip" data-placement="top" title="Edit">
                                                        <img src="{% static 'img/edit-18.png' %}" class="margin-left-010"/>
                                                    </button>
                                                </div>
                                                
                                                <div class="col-md-1">
                                                    <button class="btn del-btn check-cur-delete margin-top-07 right" type="button" name="del_current_btn" value="{{ polygon.kml_name }}" data-toggle="tooltip" data-placement="top" title="Delete">
                                                        <img src="{% static 'img/delete-18.png' %}" class="margin-left-010"/>
                                                    </button>
                                                </div>
                                            </div>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                            </form>
                        {% endif %}
                        <!-- END Left Sidebar -->

                        <!-- Customer Section Content -->
                        <div class="col-md-10 margin-top-020" id="content-column">
                            <!-- Start Status Messages -->
                            {% include '_base_message.html' %}
                            <!-- End Status Messages -->
                            
                            <!-- Title -->
                            <h2>{% block title_customer %}{% endblock title_customer %}</h2>
                            <!-- End Title -->
                            {% block content_customer %}{% endblock content_customer %}
                        </div>
                        <!-- End Customer Section Content -->
                    </div>
                </div>
                
                <!-- Start Bufer -->
                <!-- <div class="footer-push"></div> -->
                <!-- End Bufer -->
            </div>
        {% endif %}
        <!-- End Body -->
    </div>
    <!-- End Container -->
    

    <!-- jQuery -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.51/jquery.form.min.js"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.51/jquery.form.min.js"></script>

    <!-- Formstone Select JavaScript -->
    <!-- <script src="{% static 'js/modernizr.js' %}"></script>
    <script src="{% static 'js/jquery.fs.selecter.min.js' %}"></script> -->

    <!-- Bootstrap JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"
            integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS"
            crossorigin="anonymous">
    </script>

    <!-- CKEditor JavaScript -->
    <script type="text/javascript" src="{% static "ckeditor/ckeditor/ckeditor.js" %}"></script>
    <script type="text/javascript" src="{% static "ckeditor/ckeditor-init.js" %}"></script>
    
    <!-- Checkboxes -->
    <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>

    <!-- custom scripts -->
    <script type="text/javascript" src="{% static 'js/scripts.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/scripts_ajax.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/script_selectors.js' %}"></script>

    
    <!-- Slider scripts -->
    {# <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/9.7.2/bootstrap-slider.min.js"></script>#}
    

    <!--
    <script type="text/javascript" src="{% static 'js/scripts_google_maps.js' %}"></script>
    -->

    <!-- Myscripts -->
    {% block extra_js %}{% endblock extra_js %}
    <!-- End Myscripts -->
</body>
</html>
